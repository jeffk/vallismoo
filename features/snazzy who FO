if (!$rpg:trusted(player))  player:Tell("You have no permission to do that.");  return;endifhidden = 0;players = connected_players();lines = {"Name                Conn Idle Loc                   Num| IC IsA G N C KO I Age","-------------------------------------------------------|----------------------"};for plyr in (players)  if (plyr:get_option($privacy_options, "hide_who"))    hidden = hidden+1;  endif  name = this:left(tostr(plyr.name," (",plyr,")"),20);  locnum = tostr("",plyr.location);  loc = tostr(this:left(tostr(plyr.location.name),tonum(25-length(locnum))),locnum);  if (typeof(plyr.alt_info) == LIST)    alt = "Pri";  else    alt = "Alt";  endif  if (parent(plyr) == $wiz)    class = "God";  elseif (parent(plyr) == $prog)    class = "Wiz";  elseif (parent(plyr) == $builder)    class = "Bld";  else    class = " PC";  endif  if (plyr.ic)    ic = " IC";  else    ic = "OOC";  endif  age = time() - plyr.first_connect_time;  if (age/60 > 60)    if ((age/60)/60 > 24)      if ((((age/60)/60)/24) > 30)         age = this:right(tostr(((((age/60)/60)/24)/31),"M"),3);      else         age = this:right(tostr((((age/60)/60)/24),"d"),3);      endif    else      age = this:right(tostr(((age/60)/60),"h"),3);    endif  elseif ((age/60) == 0)    age = this:right(tostr((age),"s"),3);  else    age = this:right(tostr((age/60),"m"),3);  endif  conn = connected_seconds(plyr);  if (conn/60 > 60)    if ((conn/60)/60 > 24)      conn = this:right(tostr((((conn/60)/60)/24),"d"),3);    else      conn = this:right(tostr(((conn/60)/60),"h"),3);    endif  elseif ((conn/60) == 0)    conn = this:right(tostr((conn),"s"),3);  else    conn = this:right(tostr((conn/60),"m"),3);  endif  idle = idle_seconds(plyr);  if (idle/60 > 60)    if ((idle/60)/60 > 24)      idle = this:right(tostr((((idle/60)/60)/24),"d"),3);    else      idle = this:right(tostr(((idle/60)/60),"h"),3);    endif  elseif ((idle/60) == 0)    idle = this:right(tostr((idle),"s"),3);  else    idle = this:right(tostr((idle/60),"m"),3);  endif  if (plyr:in_combat())    comb = "x";  else    comb = " ";  endif  if (plyr.unconscious == -1)    unc = "Sp";  elseif (plyr.unconscious == 1)    unc = "KO";  else    unc = "  ";  endif  if (plyr.gender == #3886)    gnd = "M";  elseif (plyr.gender == #3227)    gnd = "F";  elseif (plyr.gender == #1395)    gnd = "N";  else    gnd = "O";  endif  if (plyr.injury)    inj = "x";  else    inj = " ";  endif  if ($list_utils:flatten(plyr:clothing()) == {})    nkd = "x";  else    nkd = " ";  endif  line = tostr(name, " ",conn,"  ",idle, " ",loc,"|",ic," ",class, " ",gnd, " ",nkd, " ",comb, " ",unc, " ",inj, " ", age);  lines = {@lines,line};endforborder = $string_utils:space(player.linelen, "-");time = tostr("[ ",player:ctime()," ]");hidden = tostr("[ ",length(connected_players())," users; ",hidden," hiding; ", $login:current_lag()," lag ]");border[3..3+length(time)] = time;border[(player.linelen-2)-length(hidden)..player.linelen-3] = hidden;lines = {@lines,border};player:notify_lines(lines);      #9016:@who        #9016:rightlen = tonum(args[2]);stringy = $string_utils:right(args[1], len);return stringy[length(stringy)-len+1..$];#9016:leftlen = tonum(args[2]);stringy = $string_utils:left(args[1], len);return stringy[1..len];